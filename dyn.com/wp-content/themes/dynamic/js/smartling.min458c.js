var check_browser_lang=navigator.language||navigator.userLanguage||window.navigator.userLanguage||window.navigator.language;var current_url=document.location.protocol+"//"+document.location.hostname+document.location.pathname+window.location.search;var current_domain=window.location.host.replace(/^(es|de|pt)\./i,'');var current_path=window.location.pathname;var params=window.location.search;var domain_parts=window.location.host.split('.');var top_level_domain=domain_parts.slice(-2).join('.');var look_up_url;var browser_lang;var current_lang_lookup;var days=180;var myDate=new Date();myDate.setTime(myDate.getTime()+(days*24*60*60*1000));var json_cookie_array=getCookieData("langCookie");var dataLayer=dataLayer||[];if(!json_cookie_array){managecookies(browser_lang_cookie,user_lang_cookie,alert_status_cookie,alert_count_cookie);json_cookie_array=getCookieData("langCookie")}var iso_length=check_browser_lang.length;if(check_browser_lang.indexOf('-')===-1){browser_lang_default=check_browser_lang}else if(iso_length>2){browser_lang_default=check_browser_lang.slice(0,-3)}var decoded_array=JSON.parse(json_cookie_array);var browser_lang_cookie=decoded_array['cookie_data']['browser_cookie'];var user_lang_cookie=decoded_array['cookie_data']['user_cookie'];var alert_status_cookie=decoded_array['cookie_data']['alert_status_cookie'];var alert_count_cookie=decoded_array['cookie_data']['alert_count_cookie'];var lang_dictionary={'english':{'code':'en','url':document.location.protocol+"//"+current_domain+current_path+params,'name':'English','icon':'background-position: 0 -70px'},'spanish':{'code':'es','url':document.location.protocol+"//"+'es.'+current_domain+current_path+params,'name':'Espa&ntilde;ol','icon':'background-position: -40px -70px'},'german':{'code':'de','url':document.location.protocol+"//"+'de.'+current_domain+current_path+params,'name':'Deutsch','icon':'background-position: -20px -70px'},'portuguese':{'code':'pt','url':document.location.protocol+"//"+'pt.'+current_domain+current_path+params,'name':'Portugu&ecirc;s (Brasil)','icon':'background-position: -60px -70px'},};var english_code=lang_dictionary['english']['code'];var spanish_code=lang_dictionary['spanish']['code'];var german_code=lang_dictionary['german']['code'];var portuguese_code=lang_dictionary['portuguese']['code'];if(user_lang_cookie==null){if(browser_lang_default==lang_dictionary['spanish']['code']){current_lang_lookup="spanish"}else if(browser_lang_default==lang_dictionary['german']['code']){current_lang_lookup="german"}else if(browser_lang_default==lang_dictionary['portuguese']['code']){current_lang_lookup="portuguese"}else{browser_lang_default="en";current_lang_lookup="english"}}else{if(user_lang_cookie==lang_dictionary['spanish']['code']){current_lang_lookup="spanish"}else if(user_lang_cookie==lang_dictionary['german']['code']){current_lang_lookup="german"}else if(user_lang_cookie==lang_dictionary['portuguese']['code']){current_lang_lookup="portuguese"}else{current_lang_lookup="english"}}if(user_lang_cookie==null&&current_url!=lang_dictionary[current_lang_lookup]['url']&&lang_dictionary[current_lang_lookup]['name']!=lang_dictionary['english']['name']){setTimeout(function(){window.location.replace(lang_dictionary[current_lang_lookup]['url'])},300);dynEvents('no link','Browser Detection',lang_dictionary[current_lang_lookup]['code']);if(alert_count_cookie==null){managecookies(lang_dictionary[current_lang_lookup]['code'],user_lang_cookie,alert_status_cookie,"1")}else{managecookies(lang_dictionary[current_lang_lookup]['code'],user_lang_cookie,alert_status_cookie,alert_count_cookie)}}else if(user_lang_cookie!=null&&current_url!=lang_dictionary[current_lang_lookup]['url']){setTimeout(function(){window.location.replace(lang_dictionary[current_lang_lookup]['url'])},300);dynEvents('no link','User Preference',lang_dictionary[current_lang_lookup]['code']);managecookies(browser_lang_cookie,lang_dictionary[current_lang_lookup]['code'],alert_status_cookie,alert_count_cookie)}var uppercase_code=lang_dictionary[current_lang_lookup]['code'].toUpperCase();var dropdown="<a class='current-language'>"+"<span style='"+lang_dictionary[current_lang_lookup]['icon']+"'></span>"+uppercase_code+"</a>"+"<ul id='language-submenu'>"+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['english']['code']?"<li>"+"<a href='"+lang_dictionary['english']['url']+"' onclick='managecookies(browser_lang_cookie,english_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['english']['name']+"</a>"+"</li>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['portuguese']['code']?"<li>"+"<a href='"+lang_dictionary['portuguese']['url']+"' onclick='managecookies(browser_lang_cookie,portuguese_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['portuguese']['name']+"</a>"+"</li>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['german']['code']?"<li>"+"<a href='"+lang_dictionary['german']['url']+"' onclick='managecookies(browser_lang_cookie,german_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['german']['name']+"</a>"+"</li>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['spanish']['code']?"<li>"+"<a href='"+lang_dictionary['spanish']['url']+"' onclick='managecookies(browser_lang_cookie,spanish_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['spanish']['name']+"</a>"+"</li>":"")+"</ul>";$("#lang-dropdown").html($(dropdown));var footer_select="<dl>"+"<dt>"+"Language:"+"<span style='"+lang_dictionary[current_lang_lookup]['icon']+"'></span>"+uppercase_code+"</dt>"+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['english']['code']?"<dd>"+"<a href='"+lang_dictionary['english']['url']+"' onclick='managecookies(browser_lang_cookie,english_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['english']['name']+"</a>"+"</dd>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['portuguese']['code']?"<dd>"+"<a href='"+lang_dictionary['portuguese']['url']+"' onclick='managecookies(browser_lang_cookie,portuguese_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['portuguese']['name']+"</a>"+"</dd>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['german']['code']?"<dd>"+"<a href='"+lang_dictionary['german']['url']+"' onclick='managecookies(browser_lang_cookie,german_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['german']['name']+"</a>"+"</dd>":"")+(lang_dictionary[current_lang_lookup]['code']!=lang_dictionary['spanish']['code']?"<dd>"+"<a href='"+lang_dictionary['spanish']['url']+"' onclick='managecookies(browser_lang_cookie,spanish_code,alert_status_cookie,alert_count_cookie);'>"+lang_dictionary['spanish']['name']+"</a>"+"</dd>":"")+"</dl>";$("#lang-select-mobile").html($(footer_select));var disclaimer="<div id='lang-disclaimer-wrapper'>"+"<div id='disclaimer'>"+"Based on your current browser language settings, we adjusted our site accordingly. To return to our english site, please "+"<a href='"+lang_dictionary['english']['url']+"' onclick='managecookies(browser_lang_cookie,english_code,alert_status_cookie,alert_count_cookie);'>click here.</a>"+"</div>"+"<span id='close-disclaimer'>x</span>"+"</div>";if(alert_status_cookie==null&&user_lang_cookie==null&&lang_dictionary[current_lang_lookup]['name']!=lang_dictionary['english']['name']&&alert_count_cookie<3){$("#header-wrapper").append($(disclaimer));$('#lang-disclaimer-wrapper').show();alert_count_cookie++;managecookies(browser_lang_cookie,user_lang_cookie,alert_status_cookie,alert_count_cookie);$("body").css("margin-top","95px")}if($('#close-disclaimer').click(function(){$('#lang-disclaimer-wrapper').hide();$("body").css("margin-top","60px");managecookies(browser_lang_cookie,user_lang_cookie,'closed',alert_count_cookie);return false}));if(top_level_domain=="dyndns.com"){$("body").addClass("smartling-"+lang_dictionary[current_lang_lookup]['code'])}function managecookies(browser,user,status,count){if(user!=null){dynEvents('no link','User Preference',user)}var cookie_array={'cookie_data':{'browser_cookie':browser,'user_cookie':user,'alert_status_cookie':status,'alert_count_cookie':count}};var encoded_array=JSON.stringify(cookie_array);document.cookie='langCookie='+encoded_array+'; domain=.'+top_level_domain+';path=/;expires='+myDate.toGMTString()}function getCookieData(name){var pairs=document.cookie.split("; "),count=pairs.length,parts;while(count--){parts=pairs[count].split("=");if(parts[0]===name)return parts[1]}return false}